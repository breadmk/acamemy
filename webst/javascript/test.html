<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <script>

         //    <div id=div?>
    //    <span>첨부파일?</span>
    //    <input type="file" name="file?" id="file1">
    //    <input type="button" id="del" value="삭제">
    //    </div>
    //    == container에 붙이기

    var i=0;
    $(function(){
        $('#add').click(function(){
            if(i==6){
                alert('더 이상 첨부할 수 없습니다')
                return;
            }
        i++;
        div=$('<div>').attr('id','div'+i)
        span=$('<span>').html('첨부파일'+i)
        input1=$('<input>').attr('type','file').attr('name','file'+i).attr('id','file'+i)
        input2=$('<input>').attr('type','button').attr('id','del').attr('value','삭제')
        div.append(span).append(input1).append(input2)
        $('#test1').append(div)

        })
            $(document).on('click','#del',function(){
                $(this).parent().remove()
                i--
            })
    })
    </script>
</head>
<body>

<div id="test1">
    <h1>첨부파일</h1>
    <div>
        <input type="file" name="file1" id="file1">
        <input type="button" id="add" value="사진추가">
    </div>
</div>

<form id="form">
<table border="1" id="ta1">
    <tr>
        <td>작성자</td>
        <td><input type="text" id="name"></td>
        <td><input type="submit" value="등록하기"></td>
    </tr>
    <tr>
        <td>내용 입력하기</td>
        <td><textarea name="text" id="text"></textarea></td>
    </tr>
</table>
</form>
<ul id="ul">

</ul>
<script>
    $('#form').submit(function(e){
        if(!$('#name').val()){
        alert('이름을 입력하세요')
        e.preventDefault()
        return;
        }
        if(!$('#text').val()){
        alert('내용을 입력하세요')
        e.preventDefault()
        return;
        }
         //li 테그를 추가해서 ul에 계속 늘어나라
        //<li class='list'>
        //  <p>
        //        <span>xxxx님</span>
        //         <span>년월일시분초</span>
        //        <input type="button" value=삭제 class="del">
        //    </p>
        //    <p> 내용~~~ </p>
        // </li>

        li = $('<li>').addClass('list')
        p1 = $('<p>')
        span = $('<span>').html($('#name').val()+' 님')
        input = $('<input>').attr('type','button').attr('value','삭제').addClass('del')
        p2= $('<p>').html($('#text').val())
        p1.append(span).append(input)
        li.append(p1).append(p2)
        $('#ul').append(li)
        e.preventDefault()
        return;

    })
      $(document).on('click','.del',function(){
            if(confirm('삭제?')){
                $(this).parents('.list').remove()
            }
      })

</script>





</body>
</html>